// Generated by CoffeeScript 2.5.1
var Board, Counts, Knight, KnightHops, N, NOQUEENS, Queen, QueenHops, Queens, S, Target, Targets, Z, audio, c, drawText, inside, mx, my, os, r, resize, rita, sum,
  indexOf = [].indexOf;

import {
  log,
  range
} from '../js/utils.js';

S = 50;

N = 8;

NOQUEENS = [3, 4, 10, 13, 17, 18, 19, 20, 21, 22, 24, 26, 29, 31, 32, 34, 37, 39, 41, 42, 43, 44, 45, 46, 50, 53, 59, 60];

mx = S;

my = S / 2;

os = navigator.userAgent.includes('Windows') ? 'Windows' : 'Mac';

audio = new Audio('shortclick.mp3');

r = (i) => {
  return Math.floor(i / N);
};

c = (i) => {
  return i % N;
};

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

Board = class Board {
  constructor() {
    this.draw = this.draw.bind(this);
    this.values = _.map(range(N * N), (i) => {
      return {
        ri: r(i),
        ci: c(i)
      };
    });
  }

  draw() {
    var ci, i, j, l, len, len1, len2, m, ref, ref1, ref2, results, ri, txts;
    ref = this.values;
    for (j = 0, len = ref.length; j < len; j++) {
      ({ri, ci} = ref[j]);
      fill((ri + ci) % 2 ? 'darkgray' : 'lightgray');
      rect(mx + S * ci, my + S * ri, S, S);
      fill('black');
      textSize(0.5 * S);
    }
    ref1 = range(N);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      text("abcdefgh"[i], mx + S / 2 + S * i, my + 8.4 * S);
      text("87654321"[i], mx - 0.4 * S, my + S / 2 + S * i);
    }
    if (Z.state === 0) {
      this.info = "Click on a queen to start";
    }
    //if Z.state==2 then @info = "Click on the Queen to restart"
    txts = this.info.split('|');
    ref2 = range(txts.length);
    results = [];
    for (m = 0, len2 = ref2.length; m < len2; m++) {
      i = ref2[m];
      results.push(text(txts[i], mx + 4 * S, my + 9.25 * S + 0.5 * S * i));
    }
    return results;
  }

};

window.onresize = function() {
  return resize();
};

resize = function() {
  var H, W;
  H = min(Math.floor(innerHeight / 11), Math.floor(innerWidth / 10));
  W = H;
  S = W;
  mx = (innerWidth - 8 * S) / 2;
  my = S / 2;
  resizeCanvas(innerWidth, innerHeight);
  return rita();
};

drawText = (txt, ix) => {
  var dy;
  dy = os === 'Windows' ? 0.1 * S : 0.0 * S;
  return text(txt, mx + S / 2 + S * c(ix), my + S / 2 + S * r(ix) + dy);
};

Counts = class Counts {
  constructor() {
    this.draw = this.draw.bind(this);
    this.update = this.update.bind(this);
    this.values = [];
  }

  draw() {
    var i, j, len, ref, results;
    fill('black');
    textSize(0.5 * S);
    ref = range(this.values.length);
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(drawText(this.values[i], Z.targets.values[i]));
    }
    return results;
  }

  update() {
    this.values.push(Z.count + 1);
    return Z.count = 0;
  }

};

Knight = class Knight {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.value = value;
  }

  draw() {
    fill('black');
    textSize(S);
    return drawText('♘', this.value);
  }

};

KnightHops = class KnightHops {
  constructor() {
    var c2, col, dc, dr, index, j, k, l, len, len1, r2, ref, ref1, row, ts;
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    k = Z.knight.value;
    ts = Z.targets.values;
    if (k === -1) {
      return [];
    }
    this.values = [];
    col = c(k);
    row = r(k);
    ref = [-2, -1, 1, 2];
    for (j = 0, len = ref.length; j < len; j++) {
      dc = ref[j];
      ref1 = [-2, -1, 1, 2];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        dr = ref1[l];
        if (Math.abs(dc) === Math.abs(dr)) {
          continue;
        }
        c2 = col + dc;
        r2 = row + dr;
        index = c2 + N * r2;
        if (indexOf.call(range(N), c2) >= 0 && indexOf.call(range(N), r2) >= 0 && indexOf.call(ts, index) >= 0) {
          this.values.push(index);
        }
      }
    }
    this.values.sort(function(a, b) {
      return a - b;
    });
  }

  draw() {
    var col, i, j, len, ref, results;
    col = c(Z.queen.value);
    if (col % 2 === 1) {
      return;
    }
    fill('white');
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(circle(mx + S / 2 + S * c(i), my + S / 2 + S * r(i), S / 4));
    }
    return results;
  }

  click() {
    var count, index, j, len, ref;
    ref = this.values;
    for (j = 0, len = ref.length; j < len; j++) {
      index = ref[j];
      if (inside(index)) {
        audio.play();
        Z.knight = new Knight(index);
        Z.knightHops = new KnightHops();
        if (index === Z.target.value) {
          Z.counts.update();
          Z.target.update(Z.targets.values[Z.counts.values.length + 1]);
          if (Z.counts.values.length === Z.targets.values.length - 1) {
            count = sum(Z.counts.values) + Z.count;
            Z.board.info = count + ` moves in ${(new Date() - Z.start) / 1000} seconds|Click on the Queen to restart`;
            Z.state = 2;
            return;
          }
        } else {
          Z.count++;
        }
        count = sum(Z.counts.values) + Z.count;
        Z.board.info = count + ` moves in ${(new Date() - Z.start) / 1000} seconds`;
      }
    }
  }

};

Queen = class Queen {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    this.value = value;
  }

  draw() {
    fill('black');
    textSize(S);
    return drawText('♛', this.value);
  }

  click() {
    if (inside(this.value)) {
      return Z.state = 0;
    }
  }

};

Queens = class Queens {
  constructor() {
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    this.values = _.filter(range(N * N), function(i) {
      return indexOf.call(NOQUEENS, i) < 0;
    });
  }

  draw() {
    var i, j, len, ref, results;
    fill('black');
    textSize(S);
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(drawText('♛', i));
    }
    return results;
  }

  click() {
    var index, j, len, ref, results;
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      index = ref[j];
      if (inside(index)) {
        Z.count = 0;
        Z.counts = new Counts();
        Z.queen = new Queen(index);
        Z.queenHops = new QueenHops();
        Z.targets = new Targets();
        Z.knight = new Knight(Z.targets.values[Z.counts.values.length]);
        Z.target = new Target(Z.targets.values[Z.counts.values.length + 1]);
        Z.knightHops = new KnightHops();
        Z.state = 1;
        Z.start = new Date();
        results.push(Z.board.info = "Move the knight to the golden ring");
      } else {
        results.push(void 0);
      }
    }
    return results;
  }

};

QueenHops = class QueenHops {
  constructor() {
    var f;
    this.draw = this.draw.bind(this);
    this.queen = Z.queen.value;
    f = (i) => {
      var ci, dc, dr, ri;
      ci = c(i);
      ri = r(i);
      dc = Math.abs(ci - this.cq);
      dr = Math.abs(ri - this.rq);
      return ci === this.cq || ri === this.rq || dc === dr;
    };
    this.cq = c(this.queen);
    this.rq = r(this.queen);
    this.values = _.filter(range(N * N), f);
  }

  draw() {
    var i, j, len, ref, results, row;
    row = r(Z.queen.value);
    if (row % 2 === 0) {
      return;
    }
    fill('black');
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      if (i !== this.queen) {
        results.push(circle(mx + S / 2 + S * c(i), my + S / 2 + S * r(i), S / 4));
      } else {
        results.push(void 0);
      }
    }
    return results;
  }

};

Target = class Target {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.update = this.update.bind(this);
    this.value = value;
  }

  draw() {
    push();
    stroke('yellow');
    strokeWeight(3);
    noFill();
    circle(mx + S / 2 + S * c(this.value), my + S / 2 + S * r(this.value), S / 2);
    return pop();
  }

  update() {
    return this.value = Z.targets.values[Z.counts.values.length + 1];
  }

};

Targets = class Targets {
  constructor() {
    this.values = range(N * N).filter((i) => {
      return indexOf.call(Z.queenHops.values, i) < 0;
    });
  }

};

inside = function(index) {
  var ci, ref, ref1, ri;
  ci = c(index);
  ri = r(index);
  return (S * ci < (ref = mouseX - mx) && ref < S * ci + S) && (S * ri < (ref1 = mouseY - my) && ref1 < S * ri + S);
};

Z = {}; // object to hold global variables.

Z.state = 0;

Z.count = 0;

Z.counts = new Counts();

Z.board = new Board();

Z.queen = new Queen(0);

Z.queens = new Queens();

Z.queenHops = new QueenHops();

Z.targets = new Targets();

Z.knight = new Knight(Z.targets.values[0]);

Z.target = new Target(Z.targets.values[1]);

Z.knightHops = new KnightHops();

rita = () => {
  var j, len, op, ops, opss, ref, results;
  background('gray');
  textSize(S);
  opss = "board,queens|board,queen,queenHops,knight,target,counts,knightHops|board,queen,queenHops,knight,counts";
  ops = opss.split('|')[Z.state];
  ref = ops.split(',');
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    op = ref[j];
    results.push(Z[op].draw());
  }
  return results;
};

window.mousePressed = () => {
  Z["queens,knightHops,queen".split(',')[Z.state]].click();
  return rita();
};

window.setup = () => {
  createCanvas(innerWidth, innerHeight);
  frameRate(1);
  textAlign(CENTER, CENTER);
  return resize();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoMS5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxza2V0Y2gxLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsQ0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUE7RUFBQTs7QUFBQSxPQUFBO0VBQVEsR0FBUjtFQUFZLEtBQVo7Q0FBQSxNQUFBOztBQUVBLENBQUEsR0FBSTs7QUFDSixDQUFBLEdBQUk7O0FBQ0osUUFBQSxHQUFXLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxFQUFMLEVBQVEsRUFBUixFQUFXLEVBQVgsRUFBYyxFQUFkLEVBQWlCLEVBQWpCLEVBQW9CLEVBQXBCLEVBQXVCLEVBQXZCLEVBQTBCLEVBQTFCLEVBQTZCLEVBQTdCLEVBQWdDLEVBQWhDLEVBQW1DLEVBQW5DLEVBQXNDLEVBQXRDLEVBQXlDLEVBQXpDLEVBQTRDLEVBQTVDLEVBQStDLEVBQS9DLEVBQWtELEVBQWxELEVBQXFELEVBQXJELEVBQXdELEVBQXhELEVBQTJELEVBQTNELEVBQThELEVBQTlELEVBQWlFLEVBQWpFLEVBQW9FLEVBQXBFLEVBQXVFLEVBQXZFLEVBQTBFLEVBQTFFLEVBQTZFLEVBQTdFLEVBQWdGLEVBQWhGOztBQUNYLEVBQUEsR0FBSzs7QUFDTCxFQUFBLEdBQUssQ0FBQSxHQUFFOztBQUNQLEVBQUEsR0FBUSxTQUFTLENBQUMsU0FBUyxDQUFDLFFBQXBCLENBQTZCLFNBQTdCLENBQUgsR0FBK0MsU0FBL0MsR0FBOEQ7O0FBQ25F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QVY7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFrQixNQUFsQjtTQUNBLE1BQUEsQ0FBQTtBQUpjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtsb2cscmFuZ2V9IGZyb20gJy4uL2pzL3V0aWxzLmpzJ1xyXG5cclxuUyA9IDUwXHJcbk4gPSA4XHJcbk5PUVVFRU5TID0gWzMsNCwxMCwxMywxNywxOCwxOSwyMCwyMSwyMiwyNCwyNiwyOSwzMSwzMiwzNCwzNywzOSw0MSw0Miw0Myw0NCw0NSw0Niw1MCw1Myw1OSw2MF1cclxubXggPSBTXHJcbm15ID0gUy8yXHJcbm9zID0gaWYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyAnV2luZG93cycgdGhlbiAnV2luZG93cycgZWxzZSAnTWFjJ1xyXG5hdWRpbyA9IG5ldyBBdWRpbyAnc2hvcnRjbGljay5tcDMnXHJcblxyXG5yID0gKGkpID0+IGkgLy8gTlxyXG5jID0gKGkpID0+IGkgJSBOXHJcbnN1bSA9IChhcnIpXHQ9PiBhcnIucmVkdWNlICgoYSwgYikgPT4gYSArIGIpLCAwXHJcblxyXG5jbGFzcyBCb2FyZFxyXG5cdGNvbnN0cnVjdG9yIDogLT4gQHZhbHVlcyA9IF8ubWFwIHJhbmdlKE4qTiksIChpKSA9PiB7cmk6cihpKSwgY2k6YyhpKX1cclxuXHRkcmF3IDogPT5cclxuXHRcdGZvciB7cmksY2l9IGluIEB2YWx1ZXNcclxuXHRcdFx0ZmlsbCBpZiAocmkrY2kpICUgMiB0aGVuICdkYXJrZ3JheScgZWxzZSAnbGlnaHRncmF5J1xyXG5cdFx0XHRyZWN0IG14K1MqY2ksIG15K1MqcmksIFMsIFNcclxuXHRcdFx0ZmlsbCAnYmxhY2snXHJcblx0XHRcdHRleHRTaXplIDAuNSpTXHJcblx0XHRmb3IgaSBpbiByYW5nZSBOXHJcblx0XHRcdHRleHQgXCJhYmNkZWZnaFwiW2ldLCBteCtTLzIrUyppLCBteSs4LjQqU1xyXG5cdFx0XHR0ZXh0IFwiODc2NTQzMjFcIltpXSwgbXgtMC40KlMsIG15K1MvMitTKmlcclxuXHRcdGlmIFouc3RhdGU9PTAgdGhlbiBAaW5mbyA9IFwiQ2xpY2sgb24gYSBxdWVlbiB0byBzdGFydFwiXHJcblx0XHQjaWYgWi5zdGF0ZT09MiB0aGVuIEBpbmZvID0gXCJDbGljayBvbiB0aGUgUXVlZW4gdG8gcmVzdGFydFwiXHJcblx0XHR0eHRzID0gQGluZm8uc3BsaXQgJ3wnXHJcblx0XHRmb3IgaSBpbiByYW5nZSB0eHRzLmxlbmd0aFxyXG5cdFx0XHR0ZXh0IHR4dHNbaV0sIG14KzQqUywgbXkgKyA5LjI1KlMgKyAwLjUqUyppXHJcblxyXG53aW5kb3cub25yZXNpemUgPSAtPiByZXNpemUoKVxyXG5cclxucmVzaXplID0gLT5cclxuXHRIID0gbWluKGlubmVySGVpZ2h0Ly8xMSxpbm5lcldpZHRoLy8xMClcclxuXHRXID0gSFxyXG5cdFMgPSBXXHJcblx0bXggPSAoaW5uZXJXaWR0aCAtIDgqUykvMlxyXG5cdG15ID0gUy8yXHJcblx0cmVzaXplQ2FudmFzIGlubmVyV2lkdGgsIGlubmVySGVpZ2h0XHJcblx0cml0YSgpXHJcblxyXG5kcmF3VGV4dCA9ICh0eHQsaXgpID0+IFxyXG5cdGR5ID0gaWYgb3M9PSdXaW5kb3dzJyB0aGVuIDAuMSpTIGVsc2UgMC4wKlNcclxuXHR0ZXh0IHR4dCwgbXgrUy8yK1MqYyhpeCksIG15K1MvMitTKnIoaXgpK2R5XHJcblxyXG5jbGFzcyBDb3VudHNcclxuXHRjb25zdHJ1Y3RvciA6IC0+IEB2YWx1ZXMgPSBbXVxyXG5cdGRyYXcgOiA9PlxyXG5cdFx0ZmlsbCAnYmxhY2snXHJcblx0XHR0ZXh0U2l6ZSAwLjUqU1xyXG5cdFx0Zm9yIGkgaW4gcmFuZ2UgQHZhbHVlcy5sZW5ndGhcclxuXHRcdFx0ZHJhd1RleHQgQHZhbHVlc1tpXSwgWi50YXJnZXRzLnZhbHVlc1tpXVxyXG5cdHVwZGF0ZSA6ID0+XHJcblx0XHRAdmFsdWVzLnB1c2ggWi5jb3VudCArIDFcclxuXHRcdFouY291bnQgPSAwXHJcblxyXG5jbGFzcyBLbmlnaHRcclxuXHRjb25zdHJ1Y3RvciA6IChAdmFsdWUpIC0+XHJcblx0ZHJhdyA6ID0+XHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNcclxuXHRcdGRyYXdUZXh0ICfimZgnLCBAdmFsdWVcclxuXHJcbmNsYXNzIEtuaWdodEhvcHNcclxuXHRjb25zdHJ1Y3RvciA6ICAtPlxyXG5cdFx0ayA9IFoua25pZ2h0LnZhbHVlXHJcblx0XHR0cyA9IFoudGFyZ2V0cy52YWx1ZXNcclxuXHRcdGlmIGs9PS0xIHRoZW4gcmV0dXJuIFtdXHJcblx0XHRAdmFsdWVzID0gW11cclxuXHRcdGNvbCA9IGMga1xyXG5cdFx0cm93ID0gciBrXHJcblx0XHRmb3IgZGMgaW4gWy0yLC0xLDEsMl1cclxuXHRcdFx0Zm9yIGRyIGluIFstMiwtMSwxLDJdXHJcblx0XHRcdFx0aWYgTWF0aC5hYnMoZGMpID09IE1hdGguYWJzKGRyKSB0aGVuIGNvbnRpbnVlXHJcblx0XHRcdFx0YzIgPSBjb2wgKyBkY1xyXG5cdFx0XHRcdHIyID0gcm93ICsgZHJcclxuXHRcdFx0XHRpbmRleCA9IGMyK04qcjJcclxuXHRcdFx0XHRpZiBjMiBpbiByYW5nZShOKSBhbmQgcjIgaW4gcmFuZ2UoTikgYW5kIGluZGV4IGluIHRzIHRoZW4gQHZhbHVlcy5wdXNoIGluZGV4XHJcblx0XHRAdmFsdWVzLnNvcnQgKGEsYikgLT4gYS1iXHJcblx0ZHJhdyA6ID0+XHJcblx0XHRjb2wgPSBjIFoucXVlZW4udmFsdWVcclxuXHRcdGlmIGNvbCUyPT0xIHRoZW4gcmV0dXJuXHJcblx0XHRmaWxsICd3aGl0ZSdcclxuXHRcdGZvciBpIGluIEB2YWx1ZXNcclxuXHRcdFx0Y2lyY2xlIG14K1MvMitTKmMoaSksIG15K1MvMitTKnIoaSksIFMvNFxyXG5cdGNsaWNrIDogPT5cclxuXHRcdGZvciBpbmRleCBpbiBAdmFsdWVzXHJcblx0XHRcdGlmIGluc2lkZSBpbmRleFxyXG5cdFx0XHRcdGF1ZGlvLnBsYXkoKVxyXG5cdFx0XHRcdFoua25pZ2h0ID0gbmV3IEtuaWdodCBpbmRleFxyXG5cdFx0XHRcdFoua25pZ2h0SG9wcyA9IG5ldyBLbmlnaHRIb3BzXHJcblx0XHRcdFx0aWYgaW5kZXggPT0gWi50YXJnZXQudmFsdWVcclxuXHRcdFx0XHRcdFouY291bnRzLnVwZGF0ZSgpXHJcblx0XHRcdFx0XHRaLnRhcmdldC51cGRhdGUgWi50YXJnZXRzLnZhbHVlc1taLmNvdW50cy52YWx1ZXMubGVuZ3RoKzFdXHJcblx0XHRcdFx0XHRpZiBaLmNvdW50cy52YWx1ZXMubGVuZ3RoID09IFoudGFyZ2V0cy52YWx1ZXMubGVuZ3RoLTFcclxuXHRcdFx0XHRcdFx0Y291bnQgPSBzdW0oWi5jb3VudHMudmFsdWVzKSArIFouY291bnRcclxuXHRcdFx0XHRcdFx0Wi5ib2FyZC5pbmZvID0gY291bnQgKyBcIiBtb3ZlcyBpbiAjeyhuZXcgRGF0ZSAtIFouc3RhcnQpLzEwMDB9IHNlY29uZHN8Q2xpY2sgb24gdGhlIFF1ZWVuIHRvIHJlc3RhcnRcIlxyXG5cdFx0XHRcdFx0XHRaLnN0YXRlID0gMlxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRaLmNvdW50KytcclxuXHRcdFx0XHRjb3VudCA9IHN1bShaLmNvdW50cy52YWx1ZXMpICsgWi5jb3VudFxyXG5cdFx0XHRcdFouYm9hcmQuaW5mbyA9IGNvdW50ICsgXCIgbW92ZXMgaW4gI3sobmV3IERhdGUgLSBaLnN0YXJ0KS8xMDAwfSBzZWNvbmRzXCJcclxuXHJcbmNsYXNzIFF1ZWVuXHJcblx0Y29uc3RydWN0b3IgOiAoQHZhbHVlKSAtPlxyXG5cdGRyYXcgOiA9PlxyXG5cdFx0ZmlsbCAnYmxhY2snXHJcblx0XHR0ZXh0U2l6ZSBTXHJcblx0XHRkcmF3VGV4dCAn4pmbJywgQHZhbHVlXHJcblx0Y2xpY2sgOiA9PiBpZiBpbnNpZGUgQHZhbHVlIHRoZW4gWi5zdGF0ZSA9IDBcclxuXHJcbmNsYXNzIFF1ZWVuc1xyXG5cdGNvbnN0cnVjdG9yIDogLT4gQHZhbHVlcyA9IF8uZmlsdGVyIHJhbmdlKE4qTiksIChpKSAtPiBpIG5vdCBpbiBOT1FVRUVOU1xyXG5cdGRyYXcgOiA9PlxyXG5cdFx0ZmlsbCAnYmxhY2snXHJcblx0XHR0ZXh0U2l6ZSBTXHJcblx0XHRmb3IgaSBpbiBAdmFsdWVzXHJcblx0XHRcdGRyYXdUZXh0ICfimZsnLCBpXHJcblx0Y2xpY2sgOiA9PlxyXG5cdFx0Zm9yIGluZGV4IGluIEB2YWx1ZXNcclxuXHRcdFx0aWYgaW5zaWRlIGluZGV4XHJcblx0XHRcdFx0Wi5jb3VudCA9IDBcclxuXHRcdFx0XHRaLmNvdW50cyA9IG5ldyBDb3VudHNcclxuXHRcdFx0XHRaLnF1ZWVuID0gbmV3IFF1ZWVuIGluZGV4XHJcblx0XHRcdFx0Wi5xdWVlbkhvcHMgPSBuZXcgUXVlZW5Ib3BzXHJcblx0XHRcdFx0Wi50YXJnZXRzICA9IG5ldyBUYXJnZXRzXHJcblx0XHRcdFx0Wi5rbmlnaHQgPSBuZXcgS25pZ2h0IFoudGFyZ2V0cy52YWx1ZXNbWi5jb3VudHMudmFsdWVzLmxlbmd0aF1cclxuXHRcdFx0XHRaLnRhcmdldCA9IG5ldyBUYXJnZXQgWi50YXJnZXRzLnZhbHVlc1taLmNvdW50cy52YWx1ZXMubGVuZ3RoKzFdXHJcblx0XHRcdFx0Wi5rbmlnaHRIb3BzID0gbmV3IEtuaWdodEhvcHNcclxuXHRcdFx0XHRaLnN0YXRlID0gMVxyXG5cdFx0XHRcdFouc3RhcnQgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdFouYm9hcmQuaW5mbyA9IFwiTW92ZSB0aGUga25pZ2h0IHRvIHRoZSBnb2xkZW4gcmluZ1wiXHJcblxyXG5jbGFzcyBRdWVlbkhvcHNcclxuXHRjb25zdHJ1Y3RvciA6IC0+XHJcblx0XHRAcXVlZW4gPSAgWi5xdWVlbi52YWx1ZVxyXG5cdFx0ZiA9IChpKSA9PlxyXG5cdFx0XHRjaSA9IGMgaVxyXG5cdFx0XHRyaSA9IHIgaVxyXG5cdFx0XHRkYyA9IE1hdGguYWJzIGNpIC0gQGNxXHJcblx0XHRcdGRyID0gTWF0aC5hYnMgcmkgLSBAcnFcclxuXHRcdFx0Y2kgPT0gQGNxIG9yIHJpID09IEBycSBvciBkYyA9PSBkclxyXG5cdFx0QGNxID0gYyBAcXVlZW5cclxuXHRcdEBycSA9IHIgQHF1ZWVuXHJcblx0XHRAdmFsdWVzID0gXy5maWx0ZXIgcmFuZ2UoTipOKSwgZlxyXG5cdGRyYXc6ID0+XHJcblx0XHRyb3cgPSByIFoucXVlZW4udmFsdWVcclxuXHRcdGlmIHJvdyUyPT0wIHRoZW4gcmV0dXJuXHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdGZvciBpIGluIEB2YWx1ZXNcclxuXHRcdFx0aWYgaSAhPSBAcXVlZW4gdGhlbiBjaXJjbGUgbXgrUy8yK1MqYyhpKSwgbXkrUy8yK1MqcihpKSwgUy80XHJcblxyXG5jbGFzcyBUYXJnZXRcclxuXHRjb25zdHJ1Y3RvciA6IChAdmFsdWUpIC0+XHJcblx0ZHJhdyA6ID0+XHJcblx0XHRwdXNoKClcclxuXHRcdHN0cm9rZSAneWVsbG93J1xyXG5cdFx0c3Ryb2tlV2VpZ2h0IDNcclxuXHRcdG5vRmlsbCgpXHJcblx0XHRjaXJjbGUgbXgrUy8yK1MqYyhAdmFsdWUpLCBteStTLzIrUypyKEB2YWx1ZSksIFMvMlxyXG5cdFx0cG9wKClcclxuXHR1cGRhdGUgOiAoKSA9PiBAdmFsdWUgPSBaLnRhcmdldHMudmFsdWVzW1ouY291bnRzLnZhbHVlcy5sZW5ndGgrMV1cclxuXHJcbmNsYXNzIFRhcmdldHNcclxuXHRjb25zdHJ1Y3RvciA6IC0+IEB2YWx1ZXMgPSByYW5nZShOKk4pLmZpbHRlciAoaSkgPT4gaSBub3QgaW4gWi5xdWVlbkhvcHMudmFsdWVzXHJcblxyXG5pbnNpZGUgPSAoaW5kZXgpIC0+XHJcblx0Y2kgPSBjIGluZGV4XHJcblx0cmkgPSByIGluZGV4XHJcblx0UypjaSA8IG1vdXNlWC1teCA8IFMqY2krUyBhbmQgUypyaSA8IG1vdXNlWS1teSA8IFMqcmkrU1xyXG5cclxuWiA9IHt9ICMgb2JqZWN0IHRvIGhvbGQgZ2xvYmFsIHZhcmlhYmxlcy5cclxuWi5zdGF0ZSA9IDBcclxuWi5jb3VudCA9IDBcclxuWi5jb3VudHMgPSBuZXcgQ291bnRzXHJcblouYm9hcmQgPSBuZXcgQm9hcmRcclxuWi5xdWVlbiA9IG5ldyBRdWVlbiAwXHJcbloucXVlZW5zID0gbmV3IFF1ZWVuc1xyXG5aLnF1ZWVuSG9wcyA9IG5ldyBRdWVlbkhvcHNcclxuWi50YXJnZXRzID0gbmV3IFRhcmdldHNcclxuWi5rbmlnaHQgPSBuZXcgS25pZ2h0IFoudGFyZ2V0cy52YWx1ZXNbMF1cclxuWi50YXJnZXQgPSBuZXcgVGFyZ2V0IFoudGFyZ2V0cy52YWx1ZXNbMV1cclxuWi5rbmlnaHRIb3BzID0gbmV3IEtuaWdodEhvcHNcclxuXHJcbnJpdGEgPSA9PlxyXG5cdGJhY2tncm91bmQgJ2dyYXknXHJcblx0dGV4dFNpemUgU1xyXG5cdG9wc3M9XCJib2FyZCxxdWVlbnN8Ym9hcmQscXVlZW4scXVlZW5Ib3BzLGtuaWdodCx0YXJnZXQsY291bnRzLGtuaWdodEhvcHN8Ym9hcmQscXVlZW4scXVlZW5Ib3BzLGtuaWdodCxjb3VudHNcIlxyXG5cdG9wcyA9IG9wc3Muc3BsaXQoJ3wnKVtaLnN0YXRlXVxyXG5cdFpbb3BdLmRyYXcoKSBmb3Igb3AgaW4gb3BzLnNwbGl0ICcsJ1xyXG5cclxud2luZG93Lm1vdXNlUHJlc3NlZCA9ID0+XHJcblx0WltcInF1ZWVucyxrbmlnaHRIb3BzLHF1ZWVuXCIuc3BsaXQoJywnKVtaLnN0YXRlXV0uY2xpY2soKVxyXG5cdHJpdGEoKVxyXG5cclxud2luZG93LnNldHVwID0gPT5cclxuXHRjcmVhdGVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHRmcmFtZVJhdGUgMVxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdHJlc2l6ZSgpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-008-KnightMoves-p5-solid\coffee\sketch1.coffee