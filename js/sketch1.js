// Generated by CoffeeScript 2.5.1
var Board, Counts, Knight, KnightHops, N, NOQUEENS, Queen, QueenHops, Queens, S, Target, Targets, Z, audio, c, drawText, inside, mx, my, os, r, resize, rita, sum,
  indexOf = [].indexOf;

import {
  log,
  range
} from '../js/utils.js';

S = 50;

N = 8;

NOQUEENS = [3, 4, 10, 13, 17, 18, 19, 20, 21, 22, 24, 26, 29, 31, 32, 34, 37, 39, 41, 42, 43, 44, 45, 46, 50, 53, 59, 60];

mx = S;

my = S / 2;

os = navigator.userAgent.includes('Windows') ? 'Windows' : 'Mac';

audio = new Audio('shortclick.mp3');

r = (i) => {
  return Math.floor(i / N);
};

c = (i) => {
  return i % N;
};

sum = (arr) => {
  return arr.reduce(((a, b) => {
    return a + b;
  }), 0);
};

Board = class Board {
  constructor() {
    this.draw = this.draw.bind(this);
    this.values = _.map(range(N * N), (i) => {
      return {
        ri: r(i),
        ci: c(i)
      };
    });
  }

  draw() {
    var ci, i, j, l, len, len1, len2, m, ref, ref1, ref2, results, ri, txts;
    ref = this.values;
    for (j = 0, len = ref.length; j < len; j++) {
      ({ri, ci} = ref[j]);
      fill((ri + ci) % 2 ? 'darkgray' : 'lightgray');
      rect(mx + S * ci, my + S * ri, S, S);
      fill('black');
      textSize(0.5 * S);
    }
    ref1 = range(N);
    for (l = 0, len1 = ref1.length; l < len1; l++) {
      i = ref1[l];
      text("abcdefgh"[i], mx + S / 2 + S * i, my + 8.4 * S);
      text("87654321"[i], mx - 0.4 * S, my + S / 2 + S * i);
    }
    if (Z.state === 0) {
      this.info = "Click on a queen to start";
    }
    txts = this.info.split('|');
    ref2 = range(txts.length);
    results = [];
    for (m = 0, len2 = ref2.length; m < len2; m++) {
      i = ref2[m];
      results.push(text(txts[i], mx + 4 * S, my + 9.25 * S + 0.5 * S * i));
    }
    return results;
  }

};

window.onresize = function() {
  return resize();
};

resize = function() {
  var H, W;
  H = min(Math.floor(innerHeight / 11), Math.floor(innerWidth / 10));
  W = H;
  S = W;
  mx = (innerWidth - 8 * S) / 2;
  my = S / 2;
  resizeCanvas(innerWidth, innerHeight);
  return rita();
};

drawText = (txt, ix) => {
  var dy;
  dy = os === 'Windows' ? 0.1 * S : 0.0 * S;
  return text(txt, mx + S / 2 + S * c(ix), my + S / 2 + S * r(ix) + dy);
};

Counts = class Counts {
  constructor() {
    this.draw = this.draw.bind(this);
    this.update = this.update.bind(this);
    this.values = [];
  }

  draw() {
    var i, j, len, ref, results;
    fill('black');
    textSize(0.5 * S);
    ref = range(this.values.length);
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(drawText(this.values[i], Z.targets.values[i]));
    }
    return results;
  }

  update() {
    this.values.push(Z.count + 1);
    return Z.count = 0;
  }

};

Knight = class Knight {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.value = value;
  }

  draw() {
    fill('black');
    textSize(S);
    return drawText('♘', this.value);
  }

};

KnightHops = class KnightHops {
  constructor() {
    var c2, col, dc, dr, index, j, k, l, len, len1, r2, ref, ref1, row, ts;
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    k = Z.knight.value;
    ts = Z.targets.values;
    if (k === -1) {
      return [];
    }
    this.values = [];
    col = c(k);
    row = r(k);
    ref = [-2, -1, 1, 2];
    for (j = 0, len = ref.length; j < len; j++) {
      dc = ref[j];
      ref1 = [-2, -1, 1, 2];
      for (l = 0, len1 = ref1.length; l < len1; l++) {
        dr = ref1[l];
        if (Math.abs(dc) === Math.abs(dr)) {
          continue;
        }
        c2 = col + dc;
        r2 = row + dr;
        index = c2 + N * r2;
        if (indexOf.call(range(N), c2) >= 0 && indexOf.call(range(N), r2) >= 0 && indexOf.call(ts, index) >= 0) {
          this.values.push(index);
        }
      }
    }
    this.values.sort(function(a, b) {
      return a - b;
    });
  }

  draw() {
    var col, i, j, len, ref, results;
    col = c(Z.queen.value);
    if (col % 2 === 1) {
      return;
    }
    fill('white');
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(circle(mx + S / 2 + S * c(i), my + S / 2 + S * r(i), S / 4));
    }
    return results;
  }

  click() {
    var count, index, j, len, ref;
    ref = this.values;
    for (j = 0, len = ref.length; j < len; j++) {
      index = ref[j];
      if (inside(index)) {
        audio.play();
        Z.knight = new Knight(index);
        Z.knightHops = new KnightHops();
        if (index === Z.target.value) {
          Z.counts.update();
          Z.target.update(Z.targets.values[Z.counts.values.length + 1]);
          if (Z.counts.values.length === Z.targets.values.length - 1) {
            count = sum(Z.counts.values) + Z.count;
            Z.board.info = count + ` moves in ${(new Date() - Z.start) / 1000} seconds|Click on the Queen to restart`;
            Z.state = 2;
            return;
          }
        } else {
          Z.count++;
        }
        count = sum(Z.counts.values) + Z.count;
        Z.board.info = count + ` moves in ${(new Date() - Z.start) / 1000} seconds`;
      }
    }
  }

};

Queen = class Queen {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    this.value = value;
  }

  draw() {
    fill('black');
    textSize(S);
    return drawText('♛', this.value);
  }

  click() {
    if (inside(this.value)) {
      return Z.state = 0;
    }
  }

};

Queens = class Queens {
  constructor() {
    this.draw = this.draw.bind(this);
    this.click = this.click.bind(this);
    this.values = _.filter(range(N * N), function(i) {
      return indexOf.call(NOQUEENS, i) < 0;
    });
  }

  draw() {
    var i, j, len, ref, results;
    fill('black');
    textSize(S);
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      results.push(drawText('♛', i));
    }
    return results;
  }

  click() {
    var index, j, len, ref, results;
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      index = ref[j];
      if (inside(index)) {
        Z.count = 0;
        Z.counts = new Counts();
        Z.queen = new Queen(index);
        Z.queenHops = new QueenHops();
        Z.targets = new Targets();
        Z.knight = new Knight(Z.targets.values[Z.counts.values.length]);
        Z.target = new Target(Z.targets.values[Z.counts.values.length + 1]);
        Z.knightHops = new KnightHops();
        Z.state = 1;
        Z.start = new Date();
        results.push(Z.board.info = "Move the knight to the golden ring");
      } else {
        results.push(void 0);
      }
    }
    return results;
  }

};

QueenHops = class QueenHops {
  constructor() {
    var f;
    this.draw = this.draw.bind(this);
    this.queen = Z.queen.value;
    f = (i) => {
      var ci, dc, dr, ri;
      ci = c(i);
      ri = r(i);
      dc = Math.abs(ci - this.cq);
      dr = Math.abs(ri - this.rq);
      return ci === this.cq || ri === this.rq || dc === dr;
    };
    this.cq = c(this.queen);
    this.rq = r(this.queen);
    this.values = _.filter(range(N * N), f);
  }

  draw() {
    var i, j, len, ref, results, row;
    row = r(Z.queen.value);
    if (row % 2 === 0) {
      return;
    }
    fill('black');
    ref = this.values;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      i = ref[j];
      if (i !== this.queen) {
        results.push(circle(mx + S / 2 + S * c(i), my + S / 2 + S * r(i), S / 4));
      } else {
        results.push(void 0);
      }
    }
    return results;
  }

};

Target = class Target {
  constructor(value) {
    this.draw = this.draw.bind(this);
    this.update = this.update.bind(this);
    this.value = value;
  }

  draw() {
    push();
    stroke('yellow');
    strokeWeight(3);
    noFill();
    circle(mx + S / 2 + S * c(this.value), my + S / 2 + S * r(this.value), S / 2);
    return pop();
  }

  update() {
    return this.value = Z.targets.values[Z.counts.values.length + 1];
  }

};

Targets = class Targets {
  constructor() {
    this.values = range(N * N).filter((i) => {
      return indexOf.call(Z.queenHops.values, i) < 0;
    });
  }

};

inside = function(index) {
  var ci, ref, ref1, ri;
  ci = c(index);
  ri = r(index);
  return (S * ci < (ref = mouseX - mx) && ref < S * ci + S) && (S * ri < (ref1 = mouseY - my) && ref1 < S * ri + S);
};

Z = {}; // object to hold global variables.

Z.state = 0;

Z.count = 0;

Z.counts = new Counts();

Z.board = new Board();

Z.queen = new Queen(0);

Z.queens = new Queens();

Z.queenHops = new QueenHops();

Z.targets = new Targets();

Z.knight = new Knight(Z.targets.values[0]);

Z.target = new Target(Z.targets.values[1]);

Z.knightHops = new KnightHops();

rita = () => {
  var j, len, op, ops, opss, ref, results;
  background('gray');
  textSize(S);
  opss = "board,queens|board,queen,queenHops,knight,target,counts,knightHops|board,queen,queenHops,knight,counts";
  ops = opss.split('|')[Z.state];
  ref = ops.split(',');
  results = [];
  for (j = 0, len = ref.length; j < len; j++) {
    op = ref[j];
    results.push(Z[op].draw());
  }
  return results;
};

window.mousePressed = () => {
  Z["queens,knightHops,queen".split(',')[Z.state]].click();
  return rita();
};

window.setup = () => {
  createCanvas(innerWidth, innerHeight);
  //frameRate 1
  textAlign(CENTER, CENTER);
  return resize();
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoMS5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxza2V0Y2gxLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLE1BQUEsRUFBQSxVQUFBLEVBQUEsQ0FBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsU0FBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsTUFBQSxFQUFBLE9BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLENBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUEsSUFBQSxFQUFBLEdBQUE7RUFBQTs7QUFBQSxPQUFBO0VBQVEsR0FBUjtFQUFZLEtBQVo7Q0FBQSxNQUFBOztBQUVBLENBQUEsR0FBSTs7QUFDSixDQUFBLEdBQUk7O0FBQ0osUUFBQSxHQUFXLENBQUMsQ0FBRCxFQUFHLENBQUgsRUFBSyxFQUFMLEVBQVEsRUFBUixFQUFXLEVBQVgsRUFBYyxFQUFkLEVBQWlCLEVBQWpCLEVBQW9CLEVBQXBCLEVBQXVCLEVBQXZCLEVBQTBCLEVBQTFCLEVBQTZCLEVBQTdCLEVBQWdDLEVBQWhDLEVBQW1DLEVBQW5DLEVBQXNDLEVBQXRDLEVBQXlDLEVBQXpDLEVBQTRDLEVBQTVDLEVBQStDLEVBQS9DLEVBQWtELEVBQWxELEVBQXFELEVBQXJELEVBQXdELEVBQXhELEVBQTJELEVBQTNELEVBQThELEVBQTlELEVBQWlFLEVBQWpFLEVBQW9FLEVBQXBFLEVBQXVFLEVBQXZFLEVBQTBFLEVBQTFFLEVBQTZFLEVBQTdFLEVBQWdGLEVBQWhGOztBQUNYLEVBQUEsR0FBSzs7QUFDTCxFQUFBLEdBQUssQ0FBQSxHQUFFOztBQUNQLEVBQUEsR0FBUSxTQUFTLENBQUMsU0FBUyxDQUFDLFFBQXBCLENBQTZCLFNBQTdCLENBQUgsR0FBK0MsU0FBL0MsR0FBOEQ7O0FBQ25F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QUFWLEVBQWtCLE1BQWxCO1NBQ0EsTUFBQSxDQUFBO0FBSmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2xvZyxyYW5nZX0gZnJvbSAnLi4vanMvdXRpbHMuanMnXHJcblxyXG5TID0gNTBcclxuTiA9IDhcclxuTk9RVUVFTlMgPSBbMyw0LDEwLDEzLDE3LDE4LDE5LDIwLDIxLDIyLDI0LDI2LDI5LDMxLDMyLDM0LDM3LDM5LDQxLDQyLDQzLDQ0LDQ1LDQ2LDUwLDUzLDU5LDYwXVxyXG5teCA9IFNcclxubXkgPSBTLzJcclxub3MgPSBpZiBuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzICdXaW5kb3dzJyB0aGVuICdXaW5kb3dzJyBlbHNlICdNYWMnXHJcbmF1ZGlvID0gbmV3IEF1ZGlvICdzaG9ydGNsaWNrLm1wMydcclxuXHJcbnIgPSAoaSkgPT4gaSAvLyBOXHJcbmMgPSAoaSkgPT4gaSAlIE5cclxuc3VtID0gKGFycilcdD0+IGFyci5yZWR1Y2UgKChhLCBiKSA9PiBhICsgYiksIDBcclxuXHJcbmNsYXNzIEJvYXJkXHJcblx0Y29uc3RydWN0b3IgOiAtPiBAdmFsdWVzID0gXy5tYXAgcmFuZ2UoTipOKSwgKGkpID0+IHtyaTpyKGkpLCBjaTpjKGkpfVxyXG5cdGRyYXcgOiA9PlxyXG5cdFx0Zm9yIHtyaSxjaX0gaW4gQHZhbHVlc1xyXG5cdFx0XHRmaWxsIGlmIChyaStjaSkgJSAyIHRoZW4gJ2RhcmtncmF5JyBlbHNlICdsaWdodGdyYXknXHJcblx0XHRcdHJlY3QgbXgrUypjaSwgbXkrUypyaSwgUywgU1xyXG5cdFx0XHRmaWxsICdibGFjaydcclxuXHRcdFx0dGV4dFNpemUgMC41KlNcclxuXHRcdGZvciBpIGluIHJhbmdlIE5cclxuXHRcdFx0dGV4dCBcImFiY2RlZmdoXCJbaV0sIG14K1MvMitTKmksIG15KzguNCpTXHJcblx0XHRcdHRleHQgXCI4NzY1NDMyMVwiW2ldLCBteC0wLjQqUywgbXkrUy8yK1MqaVxyXG5cdFx0aWYgWi5zdGF0ZT09MCB0aGVuIEBpbmZvID0gXCJDbGljayBvbiBhIHF1ZWVuIHRvIHN0YXJ0XCJcclxuXHRcdHR4dHMgPSBAaW5mby5zcGxpdCAnfCdcclxuXHRcdGZvciBpIGluIHJhbmdlIHR4dHMubGVuZ3RoXHJcblx0XHRcdHRleHQgdHh0c1tpXSwgbXgrNCpTLCBteSArIDkuMjUqUyArIDAuNSpTKmlcclxuXHJcbndpbmRvdy5vbnJlc2l6ZSA9IC0+IHJlc2l6ZSgpXHJcblxyXG5yZXNpemUgPSAtPlxyXG5cdEggPSBtaW4oaW5uZXJIZWlnaHQvLzExLGlubmVyV2lkdGgvLzEwKVxyXG5cdFcgPSBIXHJcblx0UyA9IFdcclxuXHRteCA9IChpbm5lcldpZHRoIC0gOCpTKS8yXHJcblx0bXkgPSBTLzJcclxuXHRyZXNpemVDYW52YXMgaW5uZXJXaWR0aCwgaW5uZXJIZWlnaHRcclxuXHRyaXRhKClcclxuXHJcbmRyYXdUZXh0ID0gKHR4dCxpeCkgPT4gXHJcblx0ZHkgPSBpZiBvcz09J1dpbmRvd3MnIHRoZW4gMC4xKlMgZWxzZSAwLjAqU1xyXG5cdHRleHQgdHh0LCBteCtTLzIrUypjKGl4KSwgbXkrUy8yK1MqcihpeCkrZHlcclxuXHJcbmNsYXNzIENvdW50c1xyXG5cdGNvbnN0cnVjdG9yIDogLT4gQHZhbHVlcyA9IFtdXHJcblx0ZHJhdyA6ID0+XHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIDAuNSpTXHJcblx0XHRmb3IgaSBpbiByYW5nZSBAdmFsdWVzLmxlbmd0aFxyXG5cdFx0XHRkcmF3VGV4dCBAdmFsdWVzW2ldLCBaLnRhcmdldHMudmFsdWVzW2ldXHJcblx0dXBkYXRlIDogPT5cclxuXHRcdEB2YWx1ZXMucHVzaCBaLmNvdW50ICsgMVxyXG5cdFx0Wi5jb3VudCA9IDBcclxuXHJcbmNsYXNzIEtuaWdodFxyXG5cdGNvbnN0cnVjdG9yIDogKEB2YWx1ZSkgLT5cclxuXHRkcmF3IDogPT5cclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0dGV4dFNpemUgU1xyXG5cdFx0ZHJhd1RleHQgJ+KZmCcsIEB2YWx1ZVxyXG5cclxuY2xhc3MgS25pZ2h0SG9wc1xyXG5cdGNvbnN0cnVjdG9yIDogIC0+XHJcblx0XHRrID0gWi5rbmlnaHQudmFsdWVcclxuXHRcdHRzID0gWi50YXJnZXRzLnZhbHVlc1xyXG5cdFx0aWYgaz09LTEgdGhlbiByZXR1cm4gW11cclxuXHRcdEB2YWx1ZXMgPSBbXVxyXG5cdFx0Y29sID0gYyBrXHJcblx0XHRyb3cgPSByIGtcclxuXHRcdGZvciBkYyBpbiBbLTIsLTEsMSwyXVxyXG5cdFx0XHRmb3IgZHIgaW4gWy0yLC0xLDEsMl1cclxuXHRcdFx0XHRpZiBNYXRoLmFicyhkYykgPT0gTWF0aC5hYnMoZHIpIHRoZW4gY29udGludWVcclxuXHRcdFx0XHRjMiA9IGNvbCArIGRjXHJcblx0XHRcdFx0cjIgPSByb3cgKyBkclxyXG5cdFx0XHRcdGluZGV4ID0gYzIrTipyMlxyXG5cdFx0XHRcdGlmIGMyIGluIHJhbmdlKE4pIGFuZCByMiBpbiByYW5nZShOKSBhbmQgaW5kZXggaW4gdHMgdGhlbiBAdmFsdWVzLnB1c2ggaW5kZXhcclxuXHRcdEB2YWx1ZXMuc29ydCAoYSxiKSAtPiBhLWJcclxuXHRkcmF3IDogPT5cclxuXHRcdGNvbCA9IGMgWi5xdWVlbi52YWx1ZVxyXG5cdFx0aWYgY29sJTI9PTEgdGhlbiByZXR1cm5cclxuXHRcdGZpbGwgJ3doaXRlJ1xyXG5cdFx0Zm9yIGkgaW4gQHZhbHVlc1xyXG5cdFx0XHRjaXJjbGUgbXgrUy8yK1MqYyhpKSwgbXkrUy8yK1MqcihpKSwgUy80XHJcblx0Y2xpY2sgOiA9PlxyXG5cdFx0Zm9yIGluZGV4IGluIEB2YWx1ZXNcclxuXHRcdFx0aWYgaW5zaWRlIGluZGV4XHJcblx0XHRcdFx0YXVkaW8ucGxheSgpXHJcblx0XHRcdFx0Wi5rbmlnaHQgPSBuZXcgS25pZ2h0IGluZGV4XHJcblx0XHRcdFx0Wi5rbmlnaHRIb3BzID0gbmV3IEtuaWdodEhvcHNcclxuXHRcdFx0XHRpZiBpbmRleCA9PSBaLnRhcmdldC52YWx1ZVxyXG5cdFx0XHRcdFx0Wi5jb3VudHMudXBkYXRlKClcclxuXHRcdFx0XHRcdFoudGFyZ2V0LnVwZGF0ZSBaLnRhcmdldHMudmFsdWVzW1ouY291bnRzLnZhbHVlcy5sZW5ndGgrMV1cclxuXHRcdFx0XHRcdGlmIFouY291bnRzLnZhbHVlcy5sZW5ndGggPT0gWi50YXJnZXRzLnZhbHVlcy5sZW5ndGgtMVxyXG5cdFx0XHRcdFx0XHRjb3VudCA9IHN1bShaLmNvdW50cy52YWx1ZXMpICsgWi5jb3VudFxyXG5cdFx0XHRcdFx0XHRaLmJvYXJkLmluZm8gPSBjb3VudCArIFwiIG1vdmVzIGluICN7KG5ldyBEYXRlIC0gWi5zdGFydCkvMTAwMH0gc2Vjb25kc3xDbGljayBvbiB0aGUgUXVlZW4gdG8gcmVzdGFydFwiXHJcblx0XHRcdFx0XHRcdFouc3RhdGUgPSAyXHJcblx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFouY291bnQrK1xyXG5cdFx0XHRcdGNvdW50ID0gc3VtKFouY291bnRzLnZhbHVlcykgKyBaLmNvdW50XHJcblx0XHRcdFx0Wi5ib2FyZC5pbmZvID0gY291bnQgKyBcIiBtb3ZlcyBpbiAjeyhuZXcgRGF0ZSAtIFouc3RhcnQpLzEwMDB9IHNlY29uZHNcIlxyXG5cclxuY2xhc3MgUXVlZW5cclxuXHRjb25zdHJ1Y3RvciA6IChAdmFsdWUpIC0+XHJcblx0ZHJhdyA6ID0+XHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNcclxuXHRcdGRyYXdUZXh0ICfimZsnLCBAdmFsdWVcclxuXHRjbGljayA6ID0+IGlmIGluc2lkZSBAdmFsdWUgdGhlbiBaLnN0YXRlID0gMFxyXG5cclxuY2xhc3MgUXVlZW5zXHJcblx0Y29uc3RydWN0b3IgOiAtPiBAdmFsdWVzID0gXy5maWx0ZXIgcmFuZ2UoTipOKSwgKGkpIC0+IGkgbm90IGluIE5PUVVFRU5TXHJcblx0ZHJhdyA6ID0+XHJcblx0XHRmaWxsICdibGFjaydcclxuXHRcdHRleHRTaXplIFNcclxuXHRcdGZvciBpIGluIEB2YWx1ZXNcclxuXHRcdFx0ZHJhd1RleHQgJ+KZmycsIGlcclxuXHRjbGljayA6ID0+XHJcblx0XHRmb3IgaW5kZXggaW4gQHZhbHVlc1xyXG5cdFx0XHRpZiBpbnNpZGUgaW5kZXhcclxuXHRcdFx0XHRaLmNvdW50ID0gMFxyXG5cdFx0XHRcdFouY291bnRzID0gbmV3IENvdW50c1xyXG5cdFx0XHRcdFoucXVlZW4gPSBuZXcgUXVlZW4gaW5kZXhcclxuXHRcdFx0XHRaLnF1ZWVuSG9wcyA9IG5ldyBRdWVlbkhvcHNcclxuXHRcdFx0XHRaLnRhcmdldHMgID0gbmV3IFRhcmdldHNcclxuXHRcdFx0XHRaLmtuaWdodCA9IG5ldyBLbmlnaHQgWi50YXJnZXRzLnZhbHVlc1taLmNvdW50cy52YWx1ZXMubGVuZ3RoXVxyXG5cdFx0XHRcdFoudGFyZ2V0ID0gbmV3IFRhcmdldCBaLnRhcmdldHMudmFsdWVzW1ouY291bnRzLnZhbHVlcy5sZW5ndGgrMV1cclxuXHRcdFx0XHRaLmtuaWdodEhvcHMgPSBuZXcgS25pZ2h0SG9wc1xyXG5cdFx0XHRcdFouc3RhdGUgPSAxXHJcblx0XHRcdFx0Wi5zdGFydCA9IG5ldyBEYXRlXHJcblx0XHRcdFx0Wi5ib2FyZC5pbmZvID0gXCJNb3ZlIHRoZSBrbmlnaHQgdG8gdGhlIGdvbGRlbiByaW5nXCJcclxuXHJcbmNsYXNzIFF1ZWVuSG9wc1xyXG5cdGNvbnN0cnVjdG9yIDogLT5cclxuXHRcdEBxdWVlbiA9ICBaLnF1ZWVuLnZhbHVlXHJcblx0XHRmID0gKGkpID0+XHJcblx0XHRcdGNpID0gYyBpXHJcblx0XHRcdHJpID0gciBpXHJcblx0XHRcdGRjID0gTWF0aC5hYnMgY2kgLSBAY3FcclxuXHRcdFx0ZHIgPSBNYXRoLmFicyByaSAtIEBycVxyXG5cdFx0XHRjaSA9PSBAY3Egb3IgcmkgPT0gQHJxIG9yIGRjID09IGRyXHJcblx0XHRAY3EgPSBjIEBxdWVlblxyXG5cdFx0QHJxID0gciBAcXVlZW5cclxuXHRcdEB2YWx1ZXMgPSBfLmZpbHRlciByYW5nZShOKk4pLCBmXHJcblx0ZHJhdzogPT5cclxuXHRcdHJvdyA9IHIgWi5xdWVlbi52YWx1ZVxyXG5cdFx0aWYgcm93JTI9PTAgdGhlbiByZXR1cm5cclxuXHRcdGZpbGwgJ2JsYWNrJ1xyXG5cdFx0Zm9yIGkgaW4gQHZhbHVlc1xyXG5cdFx0XHRpZiBpICE9IEBxdWVlbiB0aGVuIGNpcmNsZSBteCtTLzIrUypjKGkpLCBteStTLzIrUypyKGkpLCBTLzRcclxuXHJcbmNsYXNzIFRhcmdldFxyXG5cdGNvbnN0cnVjdG9yIDogKEB2YWx1ZSkgLT5cclxuXHRkcmF3IDogPT5cclxuXHRcdHB1c2goKVxyXG5cdFx0c3Ryb2tlICd5ZWxsb3cnXHJcblx0XHRzdHJva2VXZWlnaHQgM1xyXG5cdFx0bm9GaWxsKClcclxuXHRcdGNpcmNsZSBteCtTLzIrUypjKEB2YWx1ZSksIG15K1MvMitTKnIoQHZhbHVlKSwgUy8yXHJcblx0XHRwb3AoKVxyXG5cdHVwZGF0ZSA6ICgpID0+IEB2YWx1ZSA9IFoudGFyZ2V0cy52YWx1ZXNbWi5jb3VudHMudmFsdWVzLmxlbmd0aCsxXVxyXG5cclxuY2xhc3MgVGFyZ2V0c1xyXG5cdGNvbnN0cnVjdG9yIDogLT4gQHZhbHVlcyA9IHJhbmdlKE4qTikuZmlsdGVyIChpKSA9PiBpIG5vdCBpbiBaLnF1ZWVuSG9wcy52YWx1ZXNcclxuXHJcbmluc2lkZSA9IChpbmRleCkgLT5cclxuXHRjaSA9IGMgaW5kZXhcclxuXHRyaSA9IHIgaW5kZXhcclxuXHRTKmNpIDwgbW91c2VYLW14IDwgUypjaStTIGFuZCBTKnJpIDwgbW91c2VZLW15IDwgUypyaStTXHJcblxyXG5aID0ge30gIyBvYmplY3QgdG8gaG9sZCBnbG9iYWwgdmFyaWFibGVzLlxyXG5aLnN0YXRlID0gMFxyXG5aLmNvdW50ID0gMFxyXG5aLmNvdW50cyA9IG5ldyBDb3VudHNcclxuWi5ib2FyZCA9IG5ldyBCb2FyZFxyXG5aLnF1ZWVuID0gbmV3IFF1ZWVuIDBcclxuWi5xdWVlbnMgPSBuZXcgUXVlZW5zXHJcbloucXVlZW5Ib3BzID0gbmV3IFF1ZWVuSG9wc1xyXG5aLnRhcmdldHMgPSBuZXcgVGFyZ2V0c1xyXG5aLmtuaWdodCA9IG5ldyBLbmlnaHQgWi50YXJnZXRzLnZhbHVlc1swXVxyXG5aLnRhcmdldCA9IG5ldyBUYXJnZXQgWi50YXJnZXRzLnZhbHVlc1sxXVxyXG5aLmtuaWdodEhvcHMgPSBuZXcgS25pZ2h0SG9wc1xyXG5cclxucml0YSA9ID0+XHJcblx0YmFja2dyb3VuZCAnZ3JheSdcclxuXHR0ZXh0U2l6ZSBTXHJcblx0b3Bzcz1cImJvYXJkLHF1ZWVuc3xib2FyZCxxdWVlbixxdWVlbkhvcHMsa25pZ2h0LHRhcmdldCxjb3VudHMsa25pZ2h0SG9wc3xib2FyZCxxdWVlbixxdWVlbkhvcHMsa25pZ2h0LGNvdW50c1wiXHJcblx0b3BzID0gb3Bzcy5zcGxpdCgnfCcpW1ouc3RhdGVdXHJcblx0WltvcF0uZHJhdygpIGZvciBvcCBpbiBvcHMuc3BsaXQgJywnXHJcblxyXG53aW5kb3cubW91c2VQcmVzc2VkID0gPT5cclxuXHRaW1wicXVlZW5zLGtuaWdodEhvcHMscXVlZW5cIi5zcGxpdCgnLCcpW1ouc3RhdGVdXS5jbGljaygpXHJcblx0cml0YSgpXHJcblxyXG53aW5kb3cuc2V0dXAgPSA9PlxyXG5cdGNyZWF0ZUNhbnZhcyBpbm5lcldpZHRoLCBpbm5lckhlaWdodFxyXG5cdCNmcmFtZVJhdGUgMVxyXG5cdHRleHRBbGlnbiBDRU5URVIsIENFTlRFUlxyXG5cdHJlc2l6ZSgpXHJcbiJdfQ==
//# sourceURL=c:\github\2023-008-KnightMoves-p5-solid\coffee\sketch1.coffee